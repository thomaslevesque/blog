<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>[WPF] A simpler Grid using XAML attribute syntax - Thomas Levesque&#39;s .NET Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="[WPF] A simpler Grid using XAML attribute syntax" />
<meta property="og:description" content="The Grid control is one of the most frequently used containers in WPF. It allows to layout elements easily in rows and columns. Unfortunately the code to declare it, while simple to write, is made quite awkward by the use of the property element syntax:
&lt;Grid&gt; &lt;Grid.RowDefinitions&gt; &lt;RowDefinition Height=&#34;Auto&#34;/&gt; &lt;RowDefinition Height=&#34;5&#34;/&gt; &lt;RowDefinition Height=&#34;*&#34;/&gt; &lt;/Grid.RowDefinitions&gt; &lt;Grid.ColumnDefinitions&gt; &lt;ColumnDefinition Width=&#34;60&#34; /&gt; &lt;ColumnDefinition Width=&#34;*&#34; /&gt; &lt;/Grid.ColumnDefinitions&gt; &lt;Label Content=&#34;Name&#34; Grid.Row=&#34;0&#34; Grid.Column=&#34;0&#34; /&gt; &lt;TextBox Text=&#34;Hello world&#34; Grid." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://thomaslevesque.com/2010/07/20/wpf-a-simpler-grid-using-xaml-attribute-syntax/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2010-07-20T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2010-07-20T00:00:00&#43;00:00" />


	<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[WPF] A simpler Grid using XAML attribute syntax"/>
<meta name="twitter:description" content="The Grid control is one of the most frequently used containers in WPF. It allows to layout elements easily in rows and columns. Unfortunately the code to declare it, while simple to write, is made quite awkward by the use of the property element syntax:
&lt;Grid&gt; &lt;Grid.RowDefinitions&gt; &lt;RowDefinition Height=&#34;Auto&#34;/&gt; &lt;RowDefinition Height=&#34;5&#34;/&gt; &lt;RowDefinition Height=&#34;*&#34;/&gt; &lt;/Grid.RowDefinitions&gt; &lt;Grid.ColumnDefinitions&gt; &lt;ColumnDefinition Width=&#34;60&#34; /&gt; &lt;ColumnDefinition Width=&#34;*&#34; /&gt; &lt;/Grid.ColumnDefinitions&gt; &lt;Label Content=&#34;Name&#34; Grid.Row=&#34;0&#34; Grid.Column=&#34;0&#34; /&gt; &lt;TextBox Text=&#34;Hello world&#34; Grid."/>

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-31621259-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Thomas Levesque&#39;s .NET Blog" rel="home">
				<div class="logo__title">Thomas Levesque&#39;s .NET Blog</div>
				<div class="logo__tagline">Tips, tricks and thoughts about .NET development</div>
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<a class="main__header__type" href="/posts/">posts</a>
			<h1 class="post__title">[WPF] A simpler Grid using XAML attribute syntax</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2010-07-20T00:00:00Z">July 20, 2010</time></div></div>
		</header><div class="content post__content clearfix">
			<p>The <code>Grid</code> control is one of the most frequently used containers in WPF. It allows to layout elements easily in rows and columns. Unfortunately the code to declare it, while simple to write, is made quite awkward by the use of the property element syntax:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;Grid&gt;</span>
    <span style="color:#f92672">&lt;Grid.RowDefinitions&gt;</span>
        <span style="color:#f92672">&lt;RowDefinition</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;Auto&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;RowDefinition</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;5&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;RowDefinition</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;*&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/Grid.RowDefinitions&gt;</span>
    <span style="color:#f92672">&lt;Grid.ColumnDefinitions&gt;</span>
        <span style="color:#f92672">&lt;ColumnDefinition</span> <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;60&#34;</span> <span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;ColumnDefinition</span> <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;*&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/Grid.ColumnDefinitions&gt;</span>
    
    <span style="color:#f92672">&lt;Label</span> <span style="color:#a6e22e">Content=</span><span style="color:#e6db74">&#34;Name&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;TextBox</span> <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;Hello world&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;Rectangle</span> <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;Black&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">Grid.ColumnSpan=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;Label</span> <span style="color:#a6e22e">Content=</span><span style="color:#e6db74">&#34;Image&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;Image</span> <span style="color:#a6e22e">Source=</span><span style="color:#e6db74">&#34;Resources/Desert.jpg&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/Grid&gt;</span>
</code></pre></div><p>In that example, more than half the code is made of the grid definition ! Even though this syntax offers a great flexibility and a precise control of the layout, in mot cases we just need to define the height of rows and the width of columns&hellip; so it would be much simpler if we could declare the grid using the attribute syntax, as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;Grid</span> <span style="color:#a6e22e">Rows=</span><span style="color:#e6db74">&#34;Auto,5,*&#34;</span> <span style="color:#a6e22e">Columns=</span><span style="color:#e6db74">&#34;60,*&#34;</span><span style="color:#f92672">&gt;</span>
    ...
<span style="color:#f92672">&lt;/Grid&gt;</span>
</code></pre></div><p>This article shows how to reach that goal, by creating a <code>SimpleGrid</code> class derived from <code>Grid</code>.</p>
<p>First of all, our class needs two new properties: <code>Rows</code> and <code>Columns</code>. These properties define the heights and widths of rows and columns, respectively. These dimensions are not just numbers: values such as <code>&quot;*&quot;</code>, <code>&quot;2*&quot;</code> ou <code>&quot;Auto&quot;</code> are valid dimensions for grid bands. WPF has a specific type to represent these values: the <code>GridLength</code> structure. So our new properties will be collections of <code>GridLength</code> objects. Here&rsquo;s the signature of the <code>SimpleGrid</code> class:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SimpleGrid</span> : Grid
{
    <span style="color:#66d9ef">public</span> IList&lt;GridLength&gt; Rows { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
    <span style="color:#66d9ef">public</span> IList&lt;GridLength&gt; Columns { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
}
</code></pre></div><p>Since these properties are in charge of defining the grid&rsquo;s rows and columns, they have to modify the <code>RowDefinitions</code> and <code>ColumnDefinitions</code> properties of the base class. Here&rsquo;s how to implement them to get the desired result :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">private</span> IList&lt;GridLength&gt; <span style="color:#ae81ff">_</span>rows;
<span style="color:#66d9ef">public</span> IList&lt;GridLength&gt; Rows
{
    <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">_</span>rows; }
    <span style="color:#66d9ef">set</span>
    {
        <span style="color:#ae81ff">_</span>rows = <span style="color:#66d9ef">value</span>;
        RowDefinitions.Clear();
        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">_</span>rows == <span style="color:#66d9ef">null</span>)
            <span style="color:#66d9ef">return</span>;
        <span style="color:#66d9ef">foreach</span> (<span style="color:#66d9ef">var</span> length <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">_</span>rows)
        {
            RowDefinitions.Add(<span style="color:#66d9ef">new</span> RowDefinition { Height = length });
        }
    }
}

<span style="color:#66d9ef">private</span> IList&lt;GridLength&gt; <span style="color:#ae81ff">_</span>columns;
<span style="color:#66d9ef">public</span> IList&lt;GridLength&gt; Columns
{
    <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">_</span>columns; }
    <span style="color:#66d9ef">set</span>
    {
        <span style="color:#ae81ff">_</span>columns = <span style="color:#66d9ef">value</span>;
        ColumnDefinitions.Clear();
        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">_</span>columns == <span style="color:#66d9ef">null</span>)
            <span style="color:#66d9ef">return</span>;
        <span style="color:#66d9ef">foreach</span> (<span style="color:#66d9ef">var</span> length <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">_</span>columns)
        {
            ColumnDefinitions.Add(<span style="color:#66d9ef">new</span> ColumnDefinition { Width = length });
        }
    }
}
</code></pre></div><p>At this point, our <code>SimpleGrid</code> is already usable&hellip; from C# code, which doesn&rsquo;t really help us since we&rsquo;re trying to make the <em>XAML</em> code simpler. So we need to find a way to declare the values of these properties in XAML attributes, which isn&rsquo;t obvious since they are collections&hellip;</p>
<p>In XAML, all attributes are written in the form of strings. To convert these strings to values of the required type, WPF makes use of converters, which are classes derived from <code>TypeConverter</code>, associated with each type which supports conversion to and from other types. For instance, the converter for the <code>GridLength</code> structure is the <code>GridLengthConverter</code> class, which can convert numbers and strings to <code>GridLength</code> objects, and back. The conversion mechanism is described in more detail in <a href="http://msdn.microsoft.com/en-us/library/aa970913.aspx">this MSDN article</a>.</p>
<p>So we need to create a converter and associate it to the type of the <code>Rows</code> and <code>Columns</code> properties. Since we don&rsquo;t have control over the <code>IList&lt;T&gt;</code> type, we&rsquo;ll start by creating a specific <code>GridLengthCollection</code> type to be used instead of <code>IList&lt;GridLength&gt;</code>, and we&rsquo;ll associate a custom converter with it (<code>GridLengthCollectionConverter</code>):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#a6e22e">[TypeConverter(typeof(GridLengthCollectionConverter))]</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GridLengthCollection</span> : ReadOnlyCollection&lt;GridLength&gt;
{
    <span style="color:#66d9ef">public</span> GridLengthCollection(IList&lt;GridLength&gt; lengths)
        : <span style="color:#66d9ef">base</span>(lengths)
    {
    }
}
</code></pre></div><p>Why is that collection read-only ? That just because allowing to add or remove rows and columns would make the implementation more complex, and it wouldn&rsquo;t bring any benefit for our objective, which is to make it easier to define a <code>Grid</code> in XAML. So, let&rsquo;s keep it simple, at least for now&hellip; The <code>ReadOnlyCollection&lt;T&gt;</code> does exactly what we need, so we just inherit from it, rather than reinventing the wheel.</p>
<p>Notice the use of the <code>TypeConverter</code> attribute: that&rsquo;s how we tell the framework which converter should be used with the <code>GridLengthCollection</code> type. Now, all we need to do is to implement that converter :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GridLengthCollectionConverter</span> : TypeConverter
{
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">bool</span> CanConvertFrom(ITypeDescriptorContext context, Type sourceType)
    {
        <span style="color:#66d9ef">if</span> (sourceType == <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>))
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">base</span>.CanConvertFrom(context, sourceType);
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">bool</span> CanConvertTo(ITypeDescriptorContext context, Type destinationType)
    {
        <span style="color:#66d9ef">if</span> (destinationType == <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>))
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">base</span>.CanConvertTo(context, destinationType);
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">object</span> ConvertFrom(ITypeDescriptorContext context, System.Globalization.CultureInfo culture, <span style="color:#66d9ef">object</span> <span style="color:#66d9ef">value</span>)
    {
        <span style="color:#66d9ef">string</span> s = <span style="color:#66d9ef">value</span> <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">string</span>;
        <span style="color:#66d9ef">if</span> (s != <span style="color:#66d9ef">null</span>)
            <span style="color:#66d9ef">return</span> ParseString(s, culture);
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">base</span>.ConvertFrom(context, culture, <span style="color:#66d9ef">value</span>);
    }

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">object</span> ConvertTo(ITypeDescriptorContext context, CultureInfo culture, <span style="color:#66d9ef">object</span> <span style="color:#66d9ef">value</span>, Type destinationType)
    {
        <span style="color:#66d9ef">if</span> (destinationType == <span style="color:#66d9ef">typeof</span>(<span style="color:#66d9ef">string</span>) &amp;&amp; <span style="color:#66d9ef">value</span> <span style="color:#66d9ef">is</span> GridLengthCollection)
            <span style="color:#66d9ef">return</span> ToString((GridLengthCollection)<span style="color:#66d9ef">value</span>, culture);
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">base</span>.ConvertTo(context, culture, <span style="color:#66d9ef">value</span>, destinationType);
    }

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> ToString(GridLengthCollection <span style="color:#66d9ef">value</span>, CultureInfo culture)
    {
        <span style="color:#66d9ef">var</span> converter = <span style="color:#66d9ef">new</span> GridLengthConverter();
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">string</span>.Join(<span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#66d9ef">value</span>.Select(v =&gt; converter.ConvertToString(v)));
    }

    <span style="color:#66d9ef">private</span> GridLengthCollection ParseString(<span style="color:#66d9ef">string</span> s, CultureInfo culture)
    {
        <span style="color:#66d9ef">var</span> converter = <span style="color:#66d9ef">new</span> GridLengthConverter();
        <span style="color:#66d9ef">var</span> lengths = s.Split(<span style="color:#e6db74">&#39;,&#39;</span>).Select(p =&gt; (GridLength)converter.ConvertFromString(p.Trim()));
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> GridLengthCollection(lengths.ToArray());
    }
}
</code></pre></div><p>This class can converte a <code>GridLengthCollection</code> to and from a string, in which individual dimensions are separated by commas. Notice the use of the <code>GridLengthConverter</code>: since there already is a converter for the elements of the collections, we&rsquo;d better use it rather than try to reimplement the logic to parse a <code>GridLength</code>&hellip;</p>
<p>Now that all pieces are ready, we can try our new simple grid:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;my:SimpleGrid</span> <span style="color:#a6e22e">Rows=</span><span style="color:#e6db74">&#34;Auto,5,*&#34;</span> <span style="color:#a6e22e">Columns=</span><span style="color:#e6db74">&#34;60,*&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;Label</span> <span style="color:#a6e22e">Content=</span><span style="color:#e6db74">&#34;Name&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;TextBox</span> <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;Hello world&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;Rectangle</span> <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;Black&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">Grid.ColumnSpan=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;Label</span> <span style="color:#a6e22e">Content=</span><span style="color:#e6db74">&#34;Image&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;Image</span> <span style="color:#a6e22e">Source=</span><span style="color:#e6db74">&#34;Resources/Desert.jpg&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/my:SimpleGrid&gt;</span>
</code></pre></div><p>We end up with a much shorter and more readable code than with a normal <code>Grid</code>, and the result is the same: mission complete :)</p>
<p>Of course, we could improve this class in a number of ways: implement <code>Rows</code> and <code>Columns</code> as dependency properties in order to allow binding, handle addition and removal of rows and columns&hellip; However, this grid is intended for very simple scenarios, where the grid is defined once and for all, and is not modified at runtime (which is presumably the most frequent use case), so it seems sensible to keep it as simple as possible. For more specific needs, like specifying a minimum/maximum width or a shared sized group, we&rsquo;ll stick to the standard <code>Grid</code>.</p>
<p>For reference, here&rsquo;s the final code of the <code>SimpleGrid</code> class:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SimpleGrid</span> : Grid
{
    <span style="color:#66d9ef">private</span> GridLengthCollection <span style="color:#ae81ff">_</span>rows;
    <span style="color:#66d9ef">public</span> GridLengthCollection Rows
    {
        <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">_</span>rows; }
        <span style="color:#66d9ef">set</span>
        {
            <span style="color:#ae81ff">_</span>rows = <span style="color:#66d9ef">value</span>;
            RowDefinitions.Clear();
            <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">_</span>rows == <span style="color:#66d9ef">null</span>)
                <span style="color:#66d9ef">return</span>;
            <span style="color:#66d9ef">foreach</span> (<span style="color:#66d9ef">var</span> length <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">_</span>rows)
            {
                RowDefinitions.Add(<span style="color:#66d9ef">new</span> RowDefinition { Height = length });
            }
        }
    }

    <span style="color:#66d9ef">private</span> GridLengthCollection <span style="color:#ae81ff">_</span>columns;
    <span style="color:#66d9ef">public</span> GridLengthCollection Columns
    {
        <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">_</span>columns; }
        <span style="color:#66d9ef">set</span>
        {
            <span style="color:#ae81ff">_</span>columns = <span style="color:#66d9ef">value</span>;
            <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">_</span>columns == <span style="color:#66d9ef">null</span>)
                <span style="color:#66d9ef">return</span>;
            ColumnDefinitions.Clear();
            <span style="color:#66d9ef">foreach</span> (<span style="color:#66d9ef">var</span> length <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">_</span>columns)
            {
                ColumnDefinitions.Add(<span style="color:#66d9ef">new</span> ColumnDefinition { Width = length });
            }
        }
    }
}
</code></pre></div>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/grid/" rel="tag">grid</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/wpf/" rel="tag">WPF</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/xaml/" rel="tag">XAML</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Thomas Levesque avatar" src="/images/avatar.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Thomas Levesque</span>
	</div>
	<div class="authorbox__description">
		Thomas Levesque is a French software developer from Paris.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2010/05/17/c-a-simple-implementation-of-the-weakevent-pattern/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[C#] A simple implementation of the WeakEvent pattern</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2010/10/03/entity-framework-using-include-with-lambda-expressions/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[Entity Framework] Using Include with lambda expressions</p>
		</a>
	</div>
</nav>

<div>
    <script src="https://utteranc.es/client.js"
            repo="thomaslevesque/blog"
            issue-term="pathname"
            label="post-comment"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
</div>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<label>
			<input class="widget-search__field" type="search" placeholder="SEARCH..." value="" name="q" aria-label="SEARCH...">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://thomaslevesque.com/" />
	</form>
</div>
<div class="widget-social widget">
    <h4 class="widget-social__title widget__title">Social</h4>
    <div class="widget-social__content widget__content">
        <a class="widget-social__link-custom widget__link" title="GitHub" rel="noopener noreferrer" href="https://github.com/thomaslevesque" target="_blank">
            <svg class="widget-social__link-icon-custom icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
        </a>
        <a class="widget-social__link-custom widget__link" title="Twitter" rel="noopener noreferrer" href="https://twitter.com/thomaslevesque" target="_blank">
            <svg class="widget-social__link-icon-custom icon icon-twitter" width="24" height="24" viewBox="0 0 384 312"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
        </a>
        <a class="widget-social__link-custom widget__link" title="RSS feed" rel="noopener noreferrer" href="/index.xml">
            <svg class="widget-social__link-icon-custom icon icon-rss" x="0px" y="0px" width="24" height="24" viewBox="0 0 1000 1000"><path d="M277.2,856.3c0,37.1-13,68.7-39,94.6c-26,26-57.5,39-94.6,39S75,976.9,49,951c-26-26-39-57.5-39-94.6c0-37.1,13-68.7,39-94.6c26-26,57.5-39,94.6-39s68.7,13,94.6,39C264.3,787.7,277.2,819.2,277.2,856.3z M633.6,941.9c0.9,13-3,24.1-11.8,33.4c-8.4,9.7-19.3,14.6-32.7,14.6h-94c-11.6,0-21.6-3.8-29.9-11.5c-8.4-7.7-13-17.3-13.9-28.9c-10.2-106.2-53-197.1-128.4-272.5c-75.4-75.4-166.2-118.2-272.5-128.4c-11.6-0.9-21.2-5.6-28.9-13.9c-7.7-8.4-11.5-18.3-11.5-29.9v-94c0-13.5,4.9-24.4,14.6-32.7c7.9-7.9,17.9-11.8,29.9-11.8H58c74.2,6,145.2,24.7,213,56c67.7,31.3,127.8,73.4,180.2,126.3c52.9,52.4,95,112.5,126.3,180.2C608.8,796.7,627.5,867.7,633.6,941.9L633.6,941.9z M989.9,943.3c0.9,12.5-3.2,23.4-12.5,32.7c-8.3,9.3-19,13.9-32,13.9h-99.5c-12.1,0-22.4-4.1-31-12.2s-13.1-18-13.6-29.6c-5.6-99.8-29-194.5-70.3-284.3c-41.3-89.8-95-167.7-161.1-233.8C503.8,363.9,425.8,310.2,336,269c-89.8-41.3-184.5-65-284.3-71c-11.6-0.5-21.5-5-29.6-13.6c-8.1-8.6-12.2-18.7-12.2-30.3V54.6c0-13,4.6-23.7,13.9-32c8.4-8.4,18.6-12.5,30.6-12.5h2.1c121.6,6,237.9,33.9,349,83.5c111.1,49.6,209.8,117.8,296.1,204.6c86.8,86.3,155,185,204.6,296.1C956,705.4,983.8,821.8,989.9,943.3L989.9,943.3z"/></svg>
        </a>
    </div>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2021/11/04/a-quick-review-of-csharp-10-new-language-features/">A quick review of C# 10 new language features</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/03/19/csharp-9-records-as-strongly-typed-ids-part-5-final-bits-and-conclusion/">C# 9 records as strongly-typed ids - Part 5: final bits and conclusion</a></li>
			<li class="widget__item"><a class="widget__link" href="/2020/12/23/csharp-9-records-as-strongly-typed-ids-part-4-entity-framework-core-integration/">C# 9 records as strongly-typed ids - Part 4: Entity Framework Core integration</a></li>
			<li class="widget__item"><a class="widget__link" href="/2020/12/07/csharp-9-records-as-strongly-typed-ids-part-3-json-serialization/">C# 9 records as strongly-typed ids - Part 3: JSON serialization</a></li>
			<li class="widget__item"><a class="widget__link" href="/2020/11/23/csharp-9-records-as-strongly-typed-ids-part-2-aspnet-core-route-and-query-parameters/">C# 9 records as strongly-typed ids - Part 2: ASP.NET Core route and query parameters</a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Top tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/c%23/" title="c#">c#</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/wpf/" title="wpf">wpf</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/asp.net-core/" title="asp.net-core">asp.net-core</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/xaml/" title="xaml">xaml</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/async/" title="async">async</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/visual-studio/" title="visual-studio">visual-studio</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/.net-core/" title=".net-core">.net-core</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/json/" title="json">json</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/c%23-9/" title="c#-9">c#-9</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/linq/" title="linq">linq</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/unit-testing/" title="unit-testing">unit-testing</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/binding/" title="binding">binding</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dependency-injection/" title="dependency-injection">dependency-injection</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/markup-extension/" title="markup-extension">markup-extension</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/mvvm/" title="mvvm">mvvm</a>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 Thomas Levesque.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>